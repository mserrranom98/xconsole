<div class="modal-header"><!-- Inicio cabecera del popup -->
  <h4 class="modal-title">Cuentas Contables </h4>
  <button type="button" class="close" aria-label="Close" (click)="cerrar()">
    <span aria-hidden="true">&times;</span>
  </button>
</div><!-- Fin cabecera del popup -->

<div class="modal-body"><!-- Inicio cuerpo del popup -->

  <div class="col-md-6"><!-- Inicio filtro de cuentas por estado y acceso al  popup crear cuenta -->
    <div class="form-group row"><!-- Inicio filtro de cuentas por estado -->
      <label class="col-md-5 label-control">Estado de Cuenta Contable: </label>
      <div class="input-text">
        <select class="form-control border-primary" id="activoSelect" #activoSelect (change)="getCuentas(activoSelect.value)">
          <option value="" disabled selected>Seleccione...</option>
          <option *ngFor="let estado of estados" [value]="estado.id">{{ estado.estado }}</option>
        </select>
      </div>
    </div><!-- Fin filtro de cuentas por estado -->
  </div><!-- Fin filtro de cuentas por estado y acceso al  popup crear cuenta -->

  <div class="form-actions"><!-- Inicio fondo de la tabla -->
    <div class="row">
      <div class="col-md-12">
        <div class="form-group row">
          <div class="col-md-12">
            <section id="filter">
              <div class="row">
                <div class="col-sm-12">
                  <div class="card">
                    <div class="card-body">
                      <div class="card-block pr-2 pl-2">

                        <dx-data-grid class="max-width-100"
                          id="gridContainer"
                          [dataSource]="cuentas"
                          keyExpr="cuenta"
                          [showRowLines]="true"
                          [rowAlternationEnabled]="true"
                          [allowColumnReordering]="true"
                          [showBorders]="true"
                          [showColumnLines]="false"
                          [wordWrapEnabled]="true"
                          (onRowUpdated)="editarCuenta($event)"
                          (onRowInserted)="addCuenta($event)"
                          (onRowValidating)="validarCuenta($event)"
                          (onEditorPreparing)="onEditorPreparing($event)"><!-- Inicio de la tabla de cuentas contables -->

                          <dxo-load-panel [enabled]="true"></dxo-load-panel>
                          <dxo-paging [enabled]="false"></dxo-paging>
                          <dxo-editing
                            mode="form"
                            [allowUpdating]="true"
                            [allowAdding]="true"
                            [useIcons]="true">
                            <dxo-texts saveRowChanges="Guardar" cancelRowChanges="Cancelar" editRow="Editar">
                            </dxo-texts>
                          </dxo-editing>

                          <dxi-column dataField="cuenta" caption="Numero Cuenta" dataType="number" alignment="left" [width]="170">
                            <dxi-validation-rule type="required" message="El numero de cuenta es requerido"></dxi-validation-rule>
                            <dxi-validation-rule type="stringLength" [min]="10" message="Numero de caracteres: 10 al 13"></dxi-validation-rule>
                          </dxi-column>
                          <dxi-column dataField="glosaCuenta" caption="Glosa Cuenta" alignment="left" [width]="170">
                            <dxi-validation-rule type="required" message="La glosa es requerida"></dxi-validation-rule>
                          </dxi-column>
                          <dxi-column dataField="producto" caption="Producto" dataType="string" alignment="left" [width]="170">
                            <dxi-validation-rule type="required" message="El codigo del producto es requerido"></dxi-validation-rule>
                            <dxi-validation-rule type="pattern" [pattern]="'[0-9]+'" message="El codigo del producto es numerico"></dxi-validation-rule>
                          </dxi-column>
                          <dxi-column dataField="centroCosto" caption="Centro Costo" alignment="left" [width]="160">
                            <dxi-validation-rule type="required" message="El centro de costo es requerido"></dxi-validation-rule>
                            <dxi-validation-rule type="pattern" [pattern]="'[0-9]+'" message="El centro de costo es numerico"></dxi-validation-rule>
                          </dxi-column>
                          <dxi-column dataField="activo" caption="Activo" alignment="left" [width]="96">
                            <dxi-validation-rule type="required"></dxi-validation-rule>
                            <dxo-lookup [dataSource]="estados" displayExpr="estado" valueExpr="id"></dxo-lookup>
                          </dxi-column>
                        </dx-data-grid><!-- Fin de la tabla de cuentas contables -->

                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </section>
          </div>
        </div>
      </div>
    </div>
  </div><!-- Fin fondo de la tabla -->


</div><!-- Fin cuerpo del popup -->

<div class="modal-footer"><!-- Inicio pie del popup con el boton cerrar -->
  <button type="button" class="btn btn-secondary btn-raised" (click)="cerrar()">Close</button>
</div><!-- Fin pie del pop con el boton cerrar -->
