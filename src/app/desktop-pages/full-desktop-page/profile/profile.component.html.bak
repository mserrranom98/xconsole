<div *ngIf="!divEnabled">
  <app-profilemanagement (datos)="recibirDatos($event)"></app-profilemanagement>
</div>
<!-- Basic form layout section start -->
<div *ngIf="divEnabled">
  <section id="horizontal-form-layouts">
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-header">
            <h4 class="card-title" id="horz-layout-colored-controls">{{'Profiles' | translate}}</h4>
          </div>
          <div class="card-body">
            <div class="px-3">
              <form class="form form-horizontal" (ngSubmit)="onSubmit()" #f="ngForm">
                <div class="form-body">
                  <h4 class="form-section">
                    <i class="ft-info"></i>{{'New Profile' | translate}}</h4>
                  <div class="row">
                    <div class="col-md-6">
                      <div class="form-group row">
                        <label class="col-md-3 label-control" for="description">{{'Description' | translate}}: </label>
                        <div class="col-md-9">
                          <input type="text" class="form-control border-primary" name="description" #description="ngModel"
                            [(ngModel)]="profile.name" required>
                          <small *ngIf="description.touched && !description.valid" class="label label danger">{{'Please
                            enter a valid name' | translate}}!</small>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group row">
                        <label class="col-md-3 label-control" for="enabled">{{'Enabled' | translate}}: </label>
                        <div class="col-md-9">
                          <select id="enabled" class="form-control border-primary" name="enabled" #enabled="ngModel"
                            [(ngModel)]="opcEnabled" [ngModelOptions]="{standalone: true}" [(ngModel)]="profile.enabled">
                            <option value="true" selected>{{'True' | translate}}</option>
                            <option value="false">{{'False' | translate}}</option>
                          </select>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                      <div class="form-group row">
                        <label class="col-md-3 label-control" for="pages">{{'Pages' | translate}}:</label>
                        <div class="col-md-9">
                          <angular2-multiselect [data]="dropdownList" [(ngModel)]="selectedItems" [settings]="dropdownSettings"
                            [ngModelOptions]="{standalone: true}"></angular2-multiselect>
                          
                          <!---->
                          <ngx-datatable #tbl class="table table-striped" [rows]='rows' [columnMode]='"force"'
                            [headerHeight]="40" [footerHeight]="40" [rowHeight]="'auto'">
                            <ngx-datatable-column prop="NAME" name="Nombre">
                              <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                let-row="row">
                                <a class="nav-link" [routerLink]="['/profiles']" (click)="onSubmit(rowIndex)">{{value}}</a>
                              </ng-template>
                            </ngx-datatable-column>
                            <ngx-datatable-column prop="ENABLED" name="Habilitado">
                              <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                let-row="row">
                                <ui-switch *ngIf="value == 'true'" (click)="onChange(this.row)" [checked]="true"></ui-switch>
                                <ui-switch *ngIf="value == 'false'" (click)="onChange(this.row)" [checked]="false"></ui-switch>
                              </ng-template>
                            </ngx-datatable-column>
                          </ngx-datatable>
                          <!---->
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="form-actions right">
                  <button type="button" class="btn btn-danger btn-raised" (click)="onCancel()" [routerLink]="['/profiles']">Cancel</button>
                  <button type="submit" class="btn btn-raised btn-primary" [disabled]="!f.form.valid">
                    <i class="fa fa-check-square-o"></i> {{'Save' | translate}}
                  </button>
                </div>
              </form>

            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
<!-- // Basic form layout section end -->